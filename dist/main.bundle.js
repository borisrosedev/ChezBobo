(()=>{"use strict";const e=require("liquidjs"),t=require("path"),o=require("http"),a=[{name:"sushi",urls:["https://cdn.pixabay.com/photo/2023/07/07/17/47/sushi-8113165_1280.jpg","https://cdn.pixabay.com/photo/2024/05/02/18/08/rolls-8735316_1280.jpg",""],type:"main dish",cookPhoto:"https://cdn.pixabay.com/photo/2024/05/31/17/07/ai-generated-8800957_1280.png",cookName:"Tang Wong",price:20},{name:"hamburger",urls:["https://cdn.pixabay.com/photo/2023/05/29/17/01/hamburger-8026582_1280.jpg"],type:"main dish",cookPhoto:"https://cdn.pixabay.com/photo/2024/04/09/01/00/ai-generated-8684799_1280.png",cookName:"Jean Dupont",price:20},{name:"pizza",urls:["https://cdn.pixabay.com/photo/2021/07/19/16/04/pizza-6478478_1280.jpg","https://cdn.pixabay.com/photo/2017/09/30/15/10/plate-2802332_1280.jpg","https://cdn.pixabay.com/photo/2022/10/17/12/51/pizza-7527524_1280.jpg"],type:"main dish",cookPhoto:"https://cdn.pixabay.com/photo/2024/05/02/06/55/ai-generated-8733800_1280.png",cookName:"François Lutier",price:25},{name:"poulet",urls:["https://cdn.pixabay.com/photo/2024/06/13/10/19/meal-8827205_1280.png"],type:"main dish",cookPhoto:"https://cdn.pixabay.com/photo/2024/05/02/06/55/ai-generated-8733800_1280.png",cookName:"François Lutier",price:30},{name:"macarons",type:"dessert",urls:["https://cdn.pixabay.com/photo/2019/11/03/11/21/macaron-4598406_1280.jpg","https://cdn.pixabay.com/photo/2019/11/03/11/18/macaron-4598396_1280.jpg","https://cdn.pixabay.com/photo/2021/12/06/21/34/sweets-6851675_1280.jpg","https://cdn.pixabay.com/photo/2015/04/20/17/00/pastry-731823_1280.jpg","https://cdn.pixabay.com/photo/2020/12/23/21/21/macarons-5856039_1280.jpg"]},{name:"canelés",type:"dessert",urls:["https://cdn.pixabay.com/photo/2020/12/23/21/15/canele-5856024_1280.jpg"]},{name:"cookies",type:"dessert",urls:["https://cdn.pixabay.com/photo/2020/08/06/19/39/cookies-5469009_1280.jpg"]},{name:"gaufres",type:"dessert",urls:["https://cdn.pixabay.com/photo/2022/07/05/19/57/waffles-7303876_1280.jpg"]}],n=require("fs"),s=new e.Liquid({root:t.resolve(__dirname,"liquid"),extname:".liquid"});s.registerTag("header",class extends e.Tag{constructor(t,o,a){super(t,o,a),this.value=new e.Value(t.args,a)}*render(e,t){const o=yield this.value.value(e);t.write((e=>`\n\n        <header class="app-header">\n            <span aria-label>${e}</span>\n            \n            <nav>\n                <a href="/"><i class="fa-solid fa-house"></i></a>\n                <a href="/menu"><i class="fa-solid fa-utensils"></i></a>  \n            </nav>   \n            \n        </header>\n    \n    `)(o))}}),s.registerTag("title",class extends e.Tag{constructor(t,o,a){super(t,o,a),this.value=new e.Value(t.args,a)}*render(e,t){const o=yield this.value.value(e);t.write(`\n            <header>\n                <h1> ${o} </h1>  \n            </header>\n        \n        `)}}),o.createServer(((e,o)=>{var i,p;if(console.log(e.url),"GET"===e.method&&(null===(i=e.url)||void 0===i?void 0:i.startsWith("/css/"))){console.log("into it");const a=t.join(__dirname,"public",e.url);n.readFile(a,((e,t)=>{e?(o.statusCode=404,o.end("Not Found")):(o.setHeader("Content-Type","text/css"),o.end(t))}))}else if("GET"===e.method&&(null===(p=e.url)||void 0===p?void 0:p.startsWith("/assets/"))){console.log("into it");const a=t.join(__dirname,"public",e.url);n.readFile(a,((e,t)=>{e?(o.statusCode=404,o.end("Not Found")):(o.setHeader("Content-Type","image/jpg"),o.end(t))}))}else{if("GET"==e.method&&"/products"==e.url&&(o.setHeader("Content-Type","application/json"),o.statusCode=200,o.end(JSON.stringify(a))),"GET"==e.method&&"/"==e.url){const e={title:"Chez Bobo",landingTitle:"Chez Bobo | DataStore"};s.renderFile("landing",e).then((e=>{o.setHeader("Content-Type","text/html"),o.statusCode=200,o.end(e)}))}if("GET"==e.method&&"/menu"==e.url){const e={title:"Chez Bobo",menuTitle:"Chez Bobo | Menu",products:a};s.renderFile("menu",e).then((e=>{o.setHeader("Content-Type","text/html"),o.statusCode=200,o.end(e)}))}}})).listen(3e3,(()=>{console.log("listening on port: 3000")}))})();